FiveL for Macintosh Release Notes

2.00, Build 21, Tuesday, February 1, 2000 9:05:10 AM

¥ Fixed cursors for overlapping touch zones. Now the last
touch zone defined will take precedence in deciding the
cursor to display.

2.00, Build 20, Friday, January 7, 2000 4:02:34 PM

¥ New global variables:
	_EngineBuildStr - string that identifies the engine build
		this string will have the format:
			5L for MacOS 2.00, build 20
	_EngineBuild - number that identifies the engine build
		this number will have the format:
			(major * 10000) + (minor * 100) + build
			e.g. 20020 for 2.00 build 20
			
2.00, Build 19, Wednesday, December 22, 1999 2:20:05 PM

¥ Changed the built-in cursors to the hand cursors that Scott made. Also
took out the up, down and backup cursors. Here are the legal cursor types
to use in the buttpcx, cursor and touch commands:
	arrow, cross, watch, hand, right, left, turnright, turnleft
	
2.00, Build 18, Wednesday, December 15, 1999 2:01:00 PM

¥ Took out all debug messages from the Release version.

¥ Resolved the cache scheme. Now we don't cache anything, ever. We will have
to see if this causes performance problems on our lower end machines.

2.00, Build 17, Wednesday, December 15, 1999 12:16:06 PM

DO NOT USE THIS ENGINE OUTSIDE OF THE LAB!

¥ Changed resource allocation so that all pictures and palettes are
purged from memory immediately after use. This makes the changes outlined
below for the Resource Manager obsolete but this is just a test to see if
performance is adequate. If it isn't, we can re-institute the cache
outlined below

¥ Added memory dumping commands to all video commands to try and nail the
memory problems. This engine should NOT be used for production as the log
it generates can get huge!

¥ Changed Resource manager (which handles all PICTs and Palettes) so that
it keeps track of the amount of memory it has used to cache resources. When
that number gets higher than 1 MB it will purge resources from the cache
until it is down to using only 750 KB of memory.

2.00, Build 16, Tuesday, November 30, 1999 4:21:22 PM

¥ Changed the lookup command so that it will not strip out spaces when
looking for fields. Previously, it would always strip spaces. 

2.00, Build 15, Friday, November 19, 1999 3:30:39 PM

¥ The memory requirements of the engine have been reduced to:
	Miniumum: 8000 K
	Preferred: 9000 K
	
	These numbers seem to work fine. If you notice a problem with memory, keep
	the log (or debug log) as it has some memory statistics that will be
	of interest to me.
	
¥ The touch command was not adjusting the point given for a graphic with
respect to the origin.

2.00, Build 14, Tuesday, November 16, 1999 9:46:42 AM

¥ Fixed the box command. It was always filling the box in with black and 
ignoring the passed in color.

2.00, Build 13, Friday, November 12, 1999 4:21:23 PM

¥ Made the "contains" operator case insensitive.

2.00, Build 12, Friday, November 12, 1999 3:02:46 PM

¥ Ignore the character sequence \w, which is the windows-only newline.

¥ Changed the behavior of _INCR_X so that it will have the greatest X
	value of a multi-line text statement, not the last one.

2.00, Build 11, Friday, November 12, 1999 12:13:49 PM

¥ The debug engine will fade the screen in when Command-+ is pressed. This should
help if you get stuck.

¥ The debug engine will no longer quit when it encounters an error. If this
causes crashes, let me know.

¥ New origin variables and command.
	There are two new variables that track the origin of a card or macro.
		_OriginX - is the X part
		_OriginY - is the Y part
	These are logically read-only variables. If you write to them, you will
	change their value but will not change the actual origin of the card or
	macro.
	There is also a new command, ResetOrigin. This can be used to set the
	origin back to (0, 0) by not using a parameter: (resetorigin)
	It can also be used to set the origin of the current card or macro by
	passing in a point: (resetorigin 10 10)

2.00, Build 10, Tuesday, Tuesday, November 9, 1999 12:30:34 PM

¥ Fixed input command so that the highlight color of the header is respected
for the background color. If that color is not specified, black is used.

¥ Added new variables:
	_BitDepth - set to the bit depth of the screen
	_ResX - the resolution of the screen in the X direction
	_ResY - the resolution of the screen in the Y direction

¥ Added a new variable, _INCR_X, which will track the horizontal edge of the 
bounding rectangle of a text command, just as _INCR_Y does in the vertical 
direction. Not sure how well this works.
	
¥ Trimmed many debug messages.

2.00, Build 9, Thursday, November 4, 1999 10:47:06 AM

¥ Changed link options to "weak link" two libraries on PPC:
	- WindowsLib
	- ControlsLib
	This should enable us to install on PPC systems prior to MacOS 8.5.

2.00, Build 8, Wednesday, November 3, 1999 9:50:36 AM

¥ Put fades back in to the debug version.

¥ Made sure that the offscreen buffer was being correctly blasted to the 
screen when using PlayQTRect.

2.00, Build 7, Friday, October 29, 1999 9:29:03 AM

¥ When writing to a file, escape characters (other than n and t) were being
changed into a space character rather then being left alone.

¥ A debugging flag was left on in the debug build of 2.00b6 (and maybe earlier). 
This would cause type 12 errors when exceptions were thrown in the engine (a
common occurance when encountering an error). The flag has been reset to its
correct value.

¥ Changed the cursor behavior so that the explicit cursor command will make
the cursor stay visible even when there are no touchzones present. A cursor
command without a parameter (e.g. (cursor)) will reset the cursor back to 
the default arrow and will no longer force it to be visible when touchzones
aren't present.

2.00, Build 6, Wednesday, October 27, 1999 3:33:18 PM

¥ Implemented a new command: cursor. It takes one parameter, the name of a
cursor to display. If no parameter is given then the arrow cursor will be 
used. The valid constants are the same as for the buttpcx and touch commands:
	up, down, right, left, backup, hand, arrow, cross, watch
syntax: (cursor [constant])

¥ The $_seconds variable has been returning values larger than (2^31) - 1 which
overflows 32-bit integers making it impossible to use for math. As a short-term
fix for the Mac (Windows shouldn't have this problem) a very large number is
being subtracted from the value of $_seconds that is returned from the system.
The resulting number is still very large but doesn't come close to overflowing 
a 32-bit integer. As nobody knew that this number was the number of seconds 
from midnight January 1, 1904, nobody should care.

2.00, Build 5, Wednesday, October 27, 1999 9:13:56 AM

¥ Changed cursor support to be backward compatible with existing scripts. In both
the touch and buttpcx commands, if a valid cursor is not found then it the
text is assumed to be the second command and the default hand cursor will be used.
This way we don't have to go back and insert cursor constants in all of those
commands that were using the second command.

2.00, Build 4, Friday, October 22, 1999 4:53:43 PM

¥ New cursor support in touchzones. Now touchzones can have an optional cursor
to be displayed when the mouse is over the touchzone. The following constants
are supported for cursors:
	up, down, right, left, backup, hand, arrow, cross, watch
These contants can be used in the buttpcx and touch commands as follows:
(touch L T R B cmd [cursor [pict [X Y]]])
(buttpcx pict X Y header text cmd [cursor [sec_cmd]])
The cursor constant is optional for both commands and will default to the hand.

2.00, Build 3, Thursday, October 21, 1999 10:38:34 AM

¥ The problem with the white background in the release engine has been fixed.

¥ The debug engine will ignore fade commands. This was making it impossible to
debug certain parts of the engine. (It is hard to debug when faded out)

¥ The debug engine will no longer send signals when it encounters an exception. 
It was doing this when it couldn't find a file, etc. Signals would cause a 
Type 12 error when a debugger wasn't present.

¥ The release engine will maintain a log file for interesting messages. This
file is called "Log" and will be created in the same directory as the engine.
The creator and type of this file match Simple Text.

¥ The release engine will no longer put up alerts for missing media, it will
just write an entry to its log file.

2.00, Build 2, Tuesday, October 19, 1999 12:25:17 PM
¥ input fields had white background, now it is back to black
¥ signals from engine should no longer make their way to the user

2.00, Build 1

¥ first build with CodeWarrior Pro 3
¥ fixed ctouch bug
